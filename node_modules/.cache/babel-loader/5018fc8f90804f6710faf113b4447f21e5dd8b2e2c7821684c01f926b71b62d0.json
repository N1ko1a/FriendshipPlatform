{"ast":null,"code":"\"use strict\";\n\n//See: https://github.com/ethereum/wiki/wiki/RLP\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.encodeRlp = void 0;\nconst data_js_1 = require(\"./data.js\");\nfunction arrayifyInteger(value) {\n  const result = [];\n  while (value) {\n    result.unshift(value & 0xff);\n    value >>= 8;\n  }\n  return result;\n}\nfunction _encode(object) {\n  if (Array.isArray(object)) {\n    let payload = [];\n    object.forEach(function (child) {\n      payload = payload.concat(_encode(child));\n    });\n    if (payload.length <= 55) {\n      payload.unshift(0xc0 + payload.length);\n      return payload;\n    }\n    const length = arrayifyInteger(payload.length);\n    length.unshift(0xf7 + length.length);\n    return length.concat(payload);\n  }\n  const data = Array.prototype.slice.call((0, data_js_1.getBytes)(object, \"object\"));\n  if (data.length === 1 && data[0] <= 0x7f) {\n    return data;\n  } else if (data.length <= 55) {\n    data.unshift(0x80 + data.length);\n    return data;\n  }\n  const length = arrayifyInteger(data.length);\n  length.unshift(0xb7 + length.length);\n  return length.concat(data);\n}\nconst nibbles = \"0123456789abcdef\";\n/**\n *  Encodes %%object%% as an RLP-encoded [[DataHexString]].\n */\nfunction encodeRlp(object) {\n  let result = \"0x\";\n  for (const v of _encode(object)) {\n    result += nibbles[v >> 4];\n    result += nibbles[v & 0xf];\n  }\n  return result;\n}\nexports.encodeRlp = encodeRlp;","map":{"version":3,"names":["data_js_1","require","arrayifyInteger","value","result","unshift","_encode","object","Array","isArray","payload","forEach","child","concat","length","data","prototype","slice","call","getBytes","nibbles","encodeRlp","v","exports"],"sources":["/home/nikola/Desktop/Projekat/friendship-dapp/node_modules/ethers/src.ts/utils/rlp-encode.ts"],"sourcesContent":["//See: https://github.com/ethereum/wiki/wiki/RLP\n\nimport { getBytes } from \"./data.js\";\n\nimport type { RlpStructuredData } from \"./rlp.js\";\n\n\nfunction arrayifyInteger(value: number): Array<number> {\n    const result = [];\n    while (value) {\n        result.unshift(value & 0xff);\n        value >>= 8;\n    }\n    return result;\n}\n\nfunction _encode(object: Array<any> | string): Array<number> {\n    if (Array.isArray(object)) {\n        let payload: Array<number> = [];\n        object.forEach(function(child) {\n            payload = payload.concat(_encode(child));\n        });\n\n        if (payload.length <= 55) {\n            payload.unshift(0xc0 + payload.length)\n            return payload;\n        }\n\n        const length = arrayifyInteger(payload.length);\n        length.unshift(0xf7 + length.length);\n\n        return length.concat(payload);\n\n    }\n\n    const data: Array<number> = Array.prototype.slice.call(getBytes(object, \"object\"));\n\n    if (data.length === 1 && data[0] <= 0x7f) {\n        return data;\n\n    } else if (data.length <= 55) {\n        data.unshift(0x80 + data.length);\n        return data;\n    }\n\n    const length = arrayifyInteger(data.length);\n    length.unshift(0xb7 + length.length);\n\n    return length.concat(data);\n}\n\nconst nibbles = \"0123456789abcdef\";\n\n/**\n *  Encodes %%object%% as an RLP-encoded [[DataHexString]].\n */\nexport function encodeRlp(object: RlpStructuredData): string {\n    let result = \"0x\";\n    for (const v of _encode(object)) {\n        result += nibbles[v >> 4];\n        result += nibbles[v & 0xf];\n    }\n    return result;\n}\n"],"mappings":";;AAAA;;;;;AAEA,MAAAA,SAAA,GAAAC,OAAA;AAKA,SAASC,eAAeA,CAACC,KAAa;EAClC,MAAMC,MAAM,GAAG,EAAE;EACjB,OAAOD,KAAK,EAAE;IACVC,MAAM,CAACC,OAAO,CAACF,KAAK,GAAG,IAAI,CAAC;IAC5BA,KAAK,KAAK,CAAC;;EAEf,OAAOC,MAAM;AACjB;AAEA,SAASE,OAAOA,CAACC,MAA2B;EACxC,IAAIC,KAAK,CAACC,OAAO,CAACF,MAAM,CAAC,EAAE;IACvB,IAAIG,OAAO,GAAkB,EAAE;IAC/BH,MAAM,CAACI,OAAO,CAAC,UAASC,KAAK;MACzBF,OAAO,GAAGA,OAAO,CAACG,MAAM,CAACP,OAAO,CAACM,KAAK,CAAC,CAAC;IAC5C,CAAC,CAAC;IAEF,IAAIF,OAAO,CAACI,MAAM,IAAI,EAAE,EAAE;MACtBJ,OAAO,CAACL,OAAO,CAAC,IAAI,GAAGK,OAAO,CAACI,MAAM,CAAC;MACtC,OAAOJ,OAAO;;IAGlB,MAAMI,MAAM,GAAGZ,eAAe,CAACQ,OAAO,CAACI,MAAM,CAAC;IAC9CA,MAAM,CAACT,OAAO,CAAC,IAAI,GAAGS,MAAM,CAACA,MAAM,CAAC;IAEpC,OAAOA,MAAM,CAACD,MAAM,CAACH,OAAO,CAAC;;EAIjC,MAAMK,IAAI,GAAkBP,KAAK,CAACQ,SAAS,CAACC,KAAK,CAACC,IAAI,CAAC,IAAAlB,SAAA,CAAAmB,QAAQ,EAACZ,MAAM,EAAE,QAAQ,CAAC,CAAC;EAElF,IAAIQ,IAAI,CAACD,MAAM,KAAK,CAAC,IAAIC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;IACtC,OAAOA,IAAI;GAEd,MAAM,IAAIA,IAAI,CAACD,MAAM,IAAI,EAAE,EAAE;IAC1BC,IAAI,CAACV,OAAO,CAAC,IAAI,GAAGU,IAAI,CAACD,MAAM,CAAC;IAChC,OAAOC,IAAI;;EAGf,MAAMD,MAAM,GAAGZ,eAAe,CAACa,IAAI,CAACD,MAAM,CAAC;EAC3CA,MAAM,CAACT,OAAO,CAAC,IAAI,GAAGS,MAAM,CAACA,MAAM,CAAC;EAEpC,OAAOA,MAAM,CAACD,MAAM,CAACE,IAAI,CAAC;AAC9B;AAEA,MAAMK,OAAO,GAAG,kBAAkB;AAElC;;;AAGA,SAAgBC,SAASA,CAACd,MAAyB;EAC/C,IAAIH,MAAM,GAAG,IAAI;EACjB,KAAK,MAAMkB,CAAC,IAAIhB,OAAO,CAACC,MAAM,CAAC,EAAE;IAC7BH,MAAM,IAAIgB,OAAO,CAACE,CAAC,IAAI,CAAC,CAAC;IACzBlB,MAAM,IAAIgB,OAAO,CAACE,CAAC,GAAG,GAAG,CAAC;;EAE9B,OAAOlB,MAAM;AACjB;AAPAmB,OAAA,CAAAF,SAAA,GAAAA,SAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}